<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Resistor Calculator by @Kittisak (Vich)</title>
    <style>
        :root { --main-bg: #2c3e50; --resistor-bg: #d2b48c; --accent: #e67e22; }
        body { font-family: 'Segoe UI', Tahoma, sans-serif; background: #ecf0f1; margin: 0; padding: 20px; display: flex; justify-content: center; }
        .card { background: white; padding: 25px; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); width: 100%; max-width: 450px; text-align: center; }
        h2 { color: var(--main-bg); margin-bottom: 5px; }
        .credit { font-size: 14px; color: #34495e; margin-bottom: 20px; font-weight: bold; background: #fdf2e9; padding: 5px 10px; border-radius: 10px; display: inline-block; }
        
        /* สลับโหมด */
        .mode-selector { margin-bottom: 20px; display: flex; justify-content: center; gap: 10px; }
        .mode-btn { padding: 8px 15px; border: none; border-radius: 5px; cursor: pointer; background: #bdc3c7; color: white; transition: 0.3s; }
        .mode-btn.active { background: var(--accent); }

        /* ตัวต้านทาน */
        .resistor-container { background: #fff; padding: 40px 10px; border-radius: 15px; margin-bottom: 20px; position: relative; border: 1px dashed #ccc; }
        .resistor-line { width: 100%; height: 8px; background: #95a5a6; position: absolute; top: 50%; left: 0; transform: translateY(-50%); z-index: 1; }
        .resistor-body { width: 240px; height: 70px; background: var(--resistor-bg); margin: 0 auto; border-radius: 20px; position: relative; z-index: 2; border: 2px solid #333; display: flex; justify-content: space-around; align-items: center; padding: 0 10px; }
        .band { width: 12px; height: 70px; border-left: 1px solid rgba(0,0,0,0.05); border-right: 1px solid rgba(0,0,0,0.05); }
        
        .result-box { background: var(--main-bg); color: #fff; padding: 15px; border-radius: 10px; font-size: 26px; font-weight: bold; margin-bottom: 20px; box-shadow: inset 0 0 10px rgba(0,0,0,0.5); }
        .controls { display: grid; grid-template-columns: 1fr; gap: 8px; text-align: left; }
        .control-group { display: flex; justify-content: space-between; align-items: center; background: #f9f9f9; padding: 8px; border-radius: 8px; }
        select { padding: 6px; border-radius: 5px; width: 55%; border: 1px solid #bdc3c7; }
        .hidden { display: none; }
    </style>
</head>
<body>

<div class="card">
    <h2>เครื่องคำนวณค่าสี</h2>
    <div class="credit">วิทยาทานโดย@Kittisak (Vich)</div>

    <div class="mode-selector">
        <button id="btn4" class="mode-btn active" onclick="setMode(4)">4 แถบสี</button>
        <button id="btn5" class="mode-btn" onclick="setMode(5)">5 แถบสี</button>
    </div>

    <div class="resistor-container">
        <div class="resistor-line"></div>
        <div class="resistor-body">
            <div id="b1" class="band"></div>
            <div id="b2" class="band"></div>
            <div id="b3" class="band"></div>
            <div id="b4" class="band"></div>
            <div id="b5" class="band"></div>
        </div>
    </div>

    <div id="res-val" class="result-box">0 Ω</div>

    <div class="controls">
        <div class="control-group">แถบที่ 1: <select id="s1" onchange="calc()"></select></div>
        <div class="control-group">แถบที่ 2: <select id="s2" onchange="calc()"></select></div>
        <div id="row-s3" class="control-group hidden">แถบที่ 3: <select id="s3" onchange="calc()"></select></div>
        <div class="control-group">ตัวคูณ: <select id="s-mul" onchange="calc()"></select></div>
        <div class="control-group">ความคลาดเคลื่อน: <select id="s-tol" onchange="calc()"></select></div>
    </div>
    
    <p style="font-size: 10px; color: #ccc; margin-top: 20px;">Designed by Napa AI for @Kittisak's Workshop</p>
</div>

<script>
    const data = {
        "ดำ": {v:0, m:1, c:"#000", t:null}, "น้ำตาล": {v:1, m:10, c:"#8B4513", t:"1%"},
        "แดง": {v:2, m:100, c:"#ff0000", t:"2%"}, "ส้ม": {v:3, m:1000, c:"#ff8c00", t:null},
        "เหลือง": {v:4, m:10000, c:"#ffff00", t:null}, "เขียว": {v:5, m:100000, c:"#008000", t:"0.5%"},
        "น้ำเงิน": {v:6, m:1000000, c:"#0000ff", t:"0.25%"}, "ม่วง": {v:7, m:10000000, c:"#8b00ff", t:"0.1%"},
        "เทา": {v:8, m:null, c:"#808080", t:"0.05%"}, "ขาว": {v:9, m:null, c:"#ffffff", t:null},
        "ทอง": {v:null, m:0.1, c:"#ffd700", t:"5%"}, "เงิน": {v:null, m:0.01, c:"#c0c0c0", t:"10%"}
    };

    let currentMode = 4;

    function init() {
        const selects = ['s1', 's2', 's3', 's-mul', 's-tol'];
        selects.forEach(id => {
            let s = document.getElementById(id);
            for(let k in data) {
                if((id==='s1'||id==='s2'||id==='s3') && data[k].v === null) continue;
                if(id==='s-mul' && data[k].m === null) continue;
                if(id==='s-tol' && data[k].t === null) continue;
                let o = document.createElement('option'); o.text = k; s.add(o);
            }
        });
        resetValues();
    }

    function resetValues() {
        document.getElementById('s1').value = "น้ำตาล";
        document.getElementById('s2').value = "ดำ";
        document.getElementById('s3').value = "ดำ";
        document.getElementById('s-mul').value = "แดง";
        document.getElementById('s-tol').value = "ทอง";
        calc();
    }

    function setMode(m) {
        currentMode = m;
        document.getElementById('btn4').classList.toggle('active', m === 4);
        document.getElementById('btn5').classList.toggle('active', m === 5);
        document.getElementById('row-s3').classList.toggle('hidden', m === 4);
        document.getElementById('b3').classList.toggle('hidden', m === 4);
        calc();
    }

    function calc() {
        let v1 = data[document.getElementById('s1').value].v;
        let v2 = data[document.getElementById('s2').value].v;
        let v3 = data[document.getElementById('s3').value].v;
        let m = data[document.getElementById('s-mul').value].m;
        let t = data[document.getElementById('s-tol').value].t;
        
        document.getElementById('b1').style.background = data[document.getElementById('s1').value].c;
        document.getElementById('b2').style.background = data[document.getElementById('s2').value].c;
        document.getElementById('b3').style.background = data[document.getElementById('s3').value].c;
        document.getElementById('b4').style.background = data[document.getElementById('s-mul').value].c;
        document.getElementById('b5').style.background = data[document.getElementById('s-tol').value].c;

        let totalV = (currentMode === 4) ? (v1 * 10 + v2) : (v1 * 100 + v2 * 10 + v3);
        let val = totalV * m;
        
        let unit = " Ω";
        if(val >= 1000000) { val /= 1000000; unit = " MΩ"; }
        else if(val >= 1000) { val /= 1000; unit = " KΩ"; }
        
        document.getElementById('res-val').innerText = parseFloat(val.toFixed(2)) + unit + " ± " + t;
    }
    init();
</script>
</body>
</html>
